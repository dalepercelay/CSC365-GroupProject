-- user --
create table
  public.user (
    id bigint generated by default as identity,
    time timestamp with time zone not null default now(),
    name text null,
    gold integer null default 0,
    animal_id bigint null,
    constraint user_pkey primary key (id),
    constraint user_animal_id_fkey foreign key (animal_id) references animal (id)
  ) tablespace pg_default;

-- transactions
create table
  public.transactions (
    transaction_id integer generated by default as identity,
    time timestamp with time zone not null default now(),
    user_id bigint null,
    money integer null default 0,
    constraint transactions_pkey primary key (transaction_id),
    constraint transactions_user_id_fkey foreign key (user_id) references "user" (id)
  ) tablespace pg_default;

-- fight
create table
  public.fight (
    id integer generated by default as identity,
    date timestamp with time zone not null default now(),
    entry_fee integer null default 10,
    outcome boolean null,
    reward integer null,
    animal_id bigint null,
    user_id bigint null,
    enemy_id bigint null,
    transaction_id integer null,
    constraint fight_pkey primary key (id),
    constraint fight_animal_id_fkey foreign key (animal_id) references animal (id),
    constraint fight_enemy_id_fkey foreign key (enemy_id) references enemy (id),
    constraint fight_user_id_fkey foreign key (user_id) references "user" (id)
  ) tablespace pg_default;

-- enemy
create table
  public.enemy (
    id bigint generated by default as identity,
    time timestamp with time zone not null default now(),
    name text null,
    health integer null default 100,
    attack integer null default 0,
    defense integer null default 0,
    constraint enemy_pkey primary key (id)
  ) tablespace pg_default;

-- animal
create table
  public.animal (
    id bigint generated by default as identity,
    time timestamp with time zone not null default now(),
    name text null,
    health integer null default 100,
    attack integer null default 0,
    defense integer null default 0,
    price integer null default 0,
    constraint animal_pkey primary key (id)
  ) tablespace pg_default;